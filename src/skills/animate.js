import{game,lib,ui}from"noname";const e={mx_start:{trigger:{global:"gameDrawAfter"},direct:!0,priority:1/0,firstDo:!0,async content(event,trigger,player){game.removeGlobalSkill("mx_start");const e="off"===lib.config.extension_十周年UI_newDecadeStyle,t=e?"effect_youxikaishi_shousha":"effect_youxikaishi",a=e?"audio/game_start_shousha.mp3":"audio/game_start.mp3",o=e?1.5:.76;game.playAudio("../extension",decadeUI.extensionName,a);const i=decadeUI.animation,r=i.getSpineBounds(t);if(!r)return;const{size:n}=r,l=Math.min(i.canvas.width/n.x,i.canvas.height/n.y)*o;i.playSpine({name:t,scale:l})}},mx_borderLevel:{trigger:{global:"gameStart"},silent:!0,forced:!0,filter:(event,player)=>"off"===lib.config.extension_十周年UI_newDecadeStyle&&"random"===lib.config.extension_十周年UI_borderLevel,async content(event,trigger,player){game.removeGlobalSkill("mx_borderLevel");const e=["two","three","four","five"];game.players.forEach(t=>{t.dataset.longLevel=t===game.me?"five":e[Math.floor(Math.random()*e.length)]})}},decadeUI_usecardBegin:{trigger:{global:"useCardBegin"},forced:!0,popup:!1,priority:-100,silent:!0,filter:event=>!ui.clear.delay&&"wuxie"!==event.card.name,async content(){ui.clear.delay="usecard"}},decadeUI_dieKillEffect:{trigger:{source:["dieBegin"]},forced:!0,popup:!1,priority:-100,lastDo:!0,silent:!0,filter:()=>lib.config.extension_十周年UI_killEffect,async content(event,trigger){trigger.source&&trigger.player&&game.broadcastAll((e,player)=>{window.decadeUI&&decadeUI.effect.kill(e,player)},trigger.source,trigger.player)}}};export{e as animateSkill};
