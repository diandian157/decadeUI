import{get,lib}from"noname";import{cardSkinMeta as n}from"../../config/utils.js";const o={bingkele:"decade",gold:"caise"};function e(){return window.decadeUI?.statics?.cards}function r(n){const o=e();return o?o[n]||(o[n]={}):{}}function t(n){const o=e();return!!o?.READ_OK?.[n]}function i(e){const r=o[e];return r&&n[r]?r:null}function s(o,e){const r=n[o];if(!r)return"";const t=window.decadeUI?.extensionName||"十周年UI",i=r.dir||o,s=r.extension||"png";return`${lib.assetURL}extension/${t}/image/card-skins/${i}/${e}.${s}`}function u(n,o){let e=n;if("sha"===n&&o&&!Array.isArray(o)){e+="_"+get.natureList(o).sort(lib.sort.nature).join("_")}return e}function a(n,o){if(!n)return null;const e=r(n)[o];return!0===e?.loaded?e.url:null}function c(n){return{name:n,url:void 0,loaded:void 0,image:void 0}}function d({url:n,asset:o,onSuccess:e,onError:r}){const t=new Image;return t.onload=()=>{o.loaded=!0,o.url=n},t.onerror=()=>{r?.()},o.url=n,o.image=t,t.src=n,t}function l({asset:n,fallbackKey:o,filename:e,onSuccess:r,onFail:t}){const i=s(o,e),u=new Image;u.onload=()=>{n.loaded=!0,n.url=i,r?.(i)},u.onerror=()=>{n.loaded=!1,t?.()},u.src=i}export{s as buildSkinUrl,c as createSkinAsset,u as generateSkinFilename,e as getCardResources,i as getFallbackKey,a as getFallbackSkinUrl,r as getSkinCache,t as isSkinPreloaded,l as loadFallbackSkin,d as loadSkinImage};
