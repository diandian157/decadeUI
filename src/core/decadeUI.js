import{ui,lib,game,get,ai,_status}from"noname";import{initializeDecadeUIEnvironment as e}from"./environment.js";import{createDecadeUIDialogModule as r}from"./dialog.js";import{createDecadeUIAnimateModule as t}from"./animate.js";import{createResizeSensorClass as a}from"./resize-sensor.js";import{createLayoutModule as i}from"./layout.js";import{createSheetModule as o}from"./sheet.js";import{createDecadeUIGetModule as l}from"./getters.js";import{createDecadeUISetModule as n}from"./setters.js";import{createDecadeUICreateModule as s}from"./create.js";import{createStaticsModule as m}from"./statics.js";import{createHandlerModule as d}from"./handler.js";import{initHooks as p}from"./hooks.js";import{lerp as c,observeSize as u,throttle as y}from"../animation/utils.js";import{CubicBezierEase as f}from"../animation/easing.js";import{TimeStep as k}from"../animation/TimeStep.js";import{APNode as g}from"../animation/APNode.js";import{AnimationPlayer as j}from"../animation/AnimationPlayer.js";import{AnimationPlayerPool as S}from"../animation/AnimationPlayerPool.js";import{DynamicWorkers as h,BUILT_ID as $,DynamicPlayer as v}from"../animation/DynamicPlayer.js";import{createPlayerElement as b}from"../ui/player-element.js";import{createCardElement as C,createCardsWrapper as w}from"../ui/card-element.js";import{createCharacterButtonPreset as A}from"../ui/character-button.js";import{createPlayerInit as P}from"../ui/player-init.js";import{definePlayerGroupProperty as z}from"../ui/player-group.js";import{createLayoutInit as D}from"../ui/layout-init.js";import{setBaseUiMethods as I,setBaseUiCreateMethods as M}from"../overrides/ui/base.js";import{uiUpdatexr as U,uiUpdatejm as x,uiUpdate as B,uiUpdatez as E,uiUpdatem as N,uiUpdatej as G,uiUpdatehl as T,uiUpdatec as q}from"../overrides/ui/update.js";import{uiCreateMe as Y,uiCreateCharacterDialog as L,uiCreatePause as O,uiCreateArena as Z,uiCreateSpinningIdentityCard as _,uiCreateIdentityCard as J,uiCreateSelectlist as H,uiCreateDialog as R,uiCreateControl as V,uiCreateButton as W,uiCreateRarity as F,uiCreatePrebutton as K}from"../overrides/ui/create.js";import{uiClickIdentity as Q,uiClickVolumn as X,uiClickIntro as ee,uiClickCard as re}from"../overrides/ui/click.js";import{uiClear as te}from"../overrides/ui/misc.js";import{controlUpdateLayout as ae,controlReplace as ie,controlClose as oe,controlOpen as le,controlAdd as ne}from"../overrides/control.js";import{dialogClose as se,dialogOpen as me,setBaseDialogMethods as de}from"../overrides/dialog.js";import{eventTriggerMessage as pe,eventAddMessageHook as ce}from"../overrides/event.js";import"../config/utils.js";import{cardMoveDelete as ue,cardMoveTo as ye,cardUpdateTransform as fe,cardInit as ke,cardCopy as ge,setBaseCardMethods as je}from"../overrides/card/overrides.js";import{setBasePlayerMethods as Se}from"../overrides/player/base.js";import{registerDecadeUIHooks as he}from"../overrides/player/hooks.js";import{playerSetModeState as $e,playerUpdate as ve,playerReinit as be,playerUninit as Ce,playerSetSeatNum as we,playerReinitCharacter as Ae,playerGetState as Pe,playerSetIdentity as ze,playerAwakenSkill as De}from"../overrides/player/state.js";import{playerHandleEquipChange as Ie,playerRespondAnimateBefore as Me,playerUseCardAnimateBefore as Ue,playerLose as xe,playerRespond as Be,playerUseCard as Ee}from"../overrides/player/card-actions.js";import{playerMarkSkillCharacter as Ne,playerUpdateMark as Ge,playerMarkCharacter as Te,playerMark as qe,playerUnmarkSkill as Ye,playerMarkSkill as Le}from"../overrides/player/marks.js";import{player$SetSkillState as Oe,playerSetSkillState as Ze,player$SetSkillYinYang as _e,playerSetSkillYinYang as Je,playerChangeZhuanhuanji as He}from"../overrides/player/skill-state.js";import{playerApplyDynamicSkin as Re,playerStopDynamic as Ve,playerPlayDynamic as We}from"../overrides/player/dynamic-skin.js";import{playerCompareMultiple as Fe,playerCompare as Ke,playerDamagepop as Qe,playerDamage as Xe,playerQueueCssAnimation as er,playerLine as rr,playerSkill as tr,playerDieAfter as ar}from"../overrides/player/animations.js";import{setBasePlayerDraw as ir,playerPhaseJudge as or,playerThrowordered2 as lr,playerThrow as nr,playerGain2 as sr,playerGive as mr,playerDraw as dr,playerAddVirtualJudge as pr}from"../overrides/player/card-movement.js";import{playerUpdateShowCards as cr,playerCheckBoundsCache as ur,playerCheckAndAddExperienceSuffix as yr,playerSyncExpand as fr,playerSay as kr}from"../overrides/player/ui.js";import{gameRemoveGlobalSkill as gr,gameAddGlobalSkill as jr,gameSwapControl as Sr,gameSwapPlayer as hr,gameSwapSeat as $r,gameLogv as vr,setBaseGameMethods as br}from"../overrides/game.js";import{getObjtype as Cr,getSkillState as wr,setBaseGetMethods as Ar}from"../overrides/get.js";import{setBaseLibMethods as Pr,libInitCssstyles as zr}from"../overrides/lib.js";import{createContentLose as Dr,createContentGain as Ir,contentJudge as Mr,setBaseContentMethods as Ur}from"../overrides/content.js";const xr=()=>({init(){return this.extensionName=decadeUIName,this.bodySensor=e(this),this.initOverride(),this},initOverride(){const e=(r,t)=>{let a=!0;for(const i in t)r[i]?(a=e(r[i],t[i]),a&&(r[i]=t[i])):r[i]=t[i],a=!1;return a},r={ui:{create:{cards:ui.create.cards,button:ui.create.button,arena:ui.create.arena,pause:ui.create.pause,characterDialog:ui.create.characterDialog},click:{intro:ui.click.intro},update:ui.update},get:{skillState:get.skillState},game:{swapSeat:game.swapSeat,swapControl:game.swapControl,swapPlayer:game.swapPlayer,addGlobalSkill:game.addGlobalSkill,removeGlobalSkill:game.removeGlobalSkill},lib:{element:{card:{$init:lib.element.card.$init,copy:lib.element.card.copy},player:{addSkill:lib.element.player.addSkill,removeSkill:lib.element.player.removeSkill,awakenSkill:lib.element.player.awakenSkill,getState:lib.element.player.getState,setModeState:lib.element.player.setModeState,$dieAfter:lib.element.player.$dieAfter,$skill:lib.element.player.$skill,markSkill:lib.element.player.markSkill,unmarkSkill:lib.element.player.unmarkSkill,reinitCharacter:lib.element.player.reinitCharacter,$init:lib.element.player.$init,$uninit:lib.element.player.$uninit,$reinit:lib.element.player.$reinit,setSeatNum:lib.element.player.setSeatNum,$update:lib.element.player.$update,useCard:lib.element.player.useCard,respond:lib.element.player.respond,lose:lib.element.player.lose,$draw:lib.element.player.$draw,$handleEquipChange:lib.element.player.$handleEquipChange,useCardAnimateBefore:lib.element.player.useCardAnimateBefore,respondAnimateBefore:lib.element.player.respondAnimateBefore,$changeZhuanhuanji:lib.element.player.$changeZhuanhuanji,trySkillAnimate:lib.element.player.trySkillAnimate},content:{lose:lib.element.content.lose,gain:lib.element.content.gain},dialog:{close:lib.element.dialog.close}},init:{cssstyles:lib.init.cssstyles}}},t={lib:{element:{dialog:{open:me,close:se},event:{addMessageHook:ce,triggerMessage:pe},card:{copy:ge,$init:ke,updateTransform:fe,moveTo:ye,moveDelete:ue},control:{add:ne,open:le,close:oe,replace:ie,updateLayout:ae},player:{awakenSkill:De,setIdentity:ze,getState:Pe,markSkill:Le,unmarkSkill:Ye,reinitCharacter:Ae,setSeatNum:we,$uninit:Ce,$reinit:be,$update:ve,useCard:Ee,respond:Be,lose:xe,useCardAnimateBefore:Ue,respondAnimateBefore:Me,$changeZhuanhuanji:He,setModeState:$e,$handleEquipChange:Ie,mark:qe,markCharacter:Te,updateMark:Ge,markSkillCharacter:Ne,playDynamic:We,stopDynamic:Ve,_decadeUIApplyDynamicSkin:Re,say:kr,$dieAfter:ar,$skill:tr,$syncExpand:fr,$init:P(r),checkAndAddExperienceSuffix:yr,$addVirtualJudge:pr,line:rr,checkBoundsCache:ur,queueCssAnimation:er,$draw:dr,$give:mr,$gain2:sr,$damage:Xe,$throw:nr,$throwordered2:lr,$phaseJudge:or,decadeUI_updateShowCards:cr,setSkillYinYang:Je,$setSkillYinYang:_e,setSkillState:Ze,$setSkillState:Oe,$damagepop:Qe,$compare:Ke,$compareMultiple:Fe},content:{gain:Ir(r.lib.element.content.gain),judge:Mr(),lose:Dr(r.lib.element.content.lose)}},init:{cssstyles:zr}},ui:{updatec:q,updatehl:T,updatej:G,updatem:N,updatez:E,update:B,updatejm:x,updatexr:U,create:{prebutton:K,rarity:F,button:W,control:V,dialog:R,selectlist:H,identityCard:J,spinningIdentityCard:_,arena:Z,pause:O,characterDialog:L,buttonPresets:{character:A()}},click:{card:re,intro:ee}},game:{logv:vr,swapSeat:$r,swapPlayer:hr,swapControl:Sr,addGlobalSkill:jr,removeGlobalSkill:gr},get:{skillState:wr,objtype:Cr}};if(je(r.lib.element.card.$init,r.lib.element.card.copy),Ur(r.lib.element.content),Se(r.lib.element.player),ir(r.lib.element.player.$draw),br(r.game),Ar(r.get),I(r.ui),M(r.ui.create),de(r.lib.element.dialog),Pr(r.lib),he(),e(lib,t.lib),e(ui,t.ui),e(game,t.game),e(get,t.get),Object.assign(decadeUI,{throttle:y,observeSize:u,lerp:c,CubicBezierEase:f,TimeStep:k,APNode:g,AnimationPlayer:j,AnimationPlayerPool:S,DynamicPlayer:v,BUILT_ID:$,DynamicWorkers:h}),decadeModule.modules)for(let a=0;a<decadeModule.modules.length;a++)decadeModule.modules[a](lib,game,ui,get,ai,_status);window.addEventListener("resize",()=>{ui.updatexr?.(),decadeUI.layout?.resize()}),p(),this.initUIExtensions(),this.registerCardSkin=this.statics.registerCardSkin},initUIExtensions(){ui.click.identity=Q,ui.click.volumn=X,ui.clear=te,ui.create.me=Y,ui.create.player=b,ui.create.card=C,ui.create.cards=w(ui.create.cards),lib.init.layout=D(),z()},dialog:r(),animate:t(),ResizeSensor:a(),sheet:o(),layout:i(),handler:d(),zooms:{body:1,card:1},create:s(),get:l(),set:n(),statics:m(),dataset:{animSizeUpdated:!1,bodySizeUpdated:!1,bodySize:{height:1,width:1,updated:!1}}});export{xr as createDecadeUIObject};
