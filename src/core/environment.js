import{lib}from"noname";import{SVG_NS as e,CLIP_PATHS as t}from"./constants.js";function n(){const n=document.body.appendChild(document.createElementNS(e,"svg")).appendChild(document.createElementNS(e,"defs"));t.forEach(({id:t,d:i})=>{const o=n.appendChild(document.createElementNS(e,"clipPath"));o.id=t,o.setAttribute("clipPathUnits","objectBoundingBox"),o.appendChild(document.createElementNS(e,"path")).setAttribute("d",i)})}function i(e){if(window.get){if("function"==typeof window.get.cardsetion){const t=window.get.cardsetion;window.get.cardsetion=(...n)=>{try{return t.apply(e,n)}catch(i){if(i?.message?.includes("indexOf"))return"";throw i}}}if("function"==typeof window.get.getPlayerIdentity){const t=window.get.getPlayerIdentity;window.get.getPlayerIdentity=(player,n,i,o)=>("string"!=typeof(n=n||player?.identity||"")&&(n=""),null!=player?.special_identity&&"string"!=typeof player.special_identity&&(player.special_identity=""),t.call(e,player,n,i,o))}}}const o=e=>{const t=e.element.create("sensor",document.body);t.id="decadeUI-body-sensor";const o=new e.ResizeSensor(t);n(),document.addEventListener("click",e=>decadeUI.set.activeElement(e.target),!0);const d=lib.config["extension_十周年UI_handTipHeight"]||"20";return document.documentElement.style.setProperty("--hand-tip-bottom",`calc(${d}% + 10px)`),i(e),o};export{n as initSvgClipPaths,o as initializeDecadeUIEnvironment,i as patchGlobalMethods};
