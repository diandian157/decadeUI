import{get,_status}from"noname";import{lerp as e}from"../animation/utils.js";import{CubicBezierEase as t}from"../animation/easing.js";import"../animation/DynamicPlayer.js";const o=/* @__PURE__ */new Set(["caomu","草木皆兵","fulei","浮雷","shandian","闪电","bingliang","兵粮寸断","lebu","乐不思蜀"]);function n(){return{judgeEffect:(e,t)=>o.has(e)?t<0:t,isWebKit:()=>void 0!==document.body.style.WebkitBoxShadow,lerp:e,ease(e){return this._bezier3??=new t(.25,.1,.25,1),this._bezier3.ease(e)},extend:(e,t)=>t&&"object"==typeof t?Object.assign(e,t):e,bodySize(){const e=decadeUI.dataset.bodySize;return e.updated||(e.updated=!0,e.height=document.body.clientHeight,e.width=document.body.clientWidth),e},bestValueCards(e,player){player||(player=_status.event.player);const t=[],o=[],n=[],i=player.hasSkill("xiaoji");e.sort((e,t)=>get.value(t,player)-get.value(e,player));for(let a=0;a<e.length;a++){let s=!1;const d=get.type(e[a]);"basic"===d?(s=o.some(t=>!e[a].toself&&t.name===e[a].name),s||o.push(e[a])):"equip"!==d||i||(s=n.some(t=>get.subtype(t)===get.subtype(e[a])),s||n.push(e[a])),s||(t.push(e[a]),e.splice(a--,1))}return e.sort((e,t)=>get.value(t,player)-get.value(e,player)),t.concat(e)},cheatJudgeCards(e,t,o){if(!e||!t)throw arguments;const n=[];for(const i of t){const t=get.judge(i);e.sort((e,n)=>o?t(n)-t(e):t(e)-t(n));const a=t(e[0]);if(!(o&&a>=0||!o&&a<0))break;n.push(e.shift())}return n},elementLeftFromWindow:e=>e.getBoundingClientRect().left+window.scrollX,elementTopFromWindow:e=>e.getBoundingClientRect().top+window.scrollY,handcardInitPos(){const e=decadeUI.boundsCaches.hand;e.updated||e.update();const{cardWidth:t,cardHeight:o,cardScale:n}=e;return{x:-Math.round((t-t*n)/2),y:(o*n-o)/2,scale:n}}}}export{n as createDecadeUIGetModule};
