import"noname";class t{constructor(t,e){this.element=t,this.updateBefore=e,this.updated=!1,this._x=0,this._y=0,this._width=0,this._height=0}get x(){return this.updated||this.update(),this._x}set x(t){this._x=t}get y(){return this.updated||this.update(),this._y}set y(t){this._y=t}get width(){return this.updated||this.update(),this._width}set width(t){this._width=t}get height(){return this.updated||this.update(),this._height}set height(t){this._height=t}check(){this.updated||this.update()}update(){this.updateBefore&&this.updateBefore.call(this);const t=this.element;this.updated=!0,t&&(this._x=t.offsetLeft,this._y=t.offsetTop,this._width=t.offsetWidth,this._height=t.offsetHeight)}}function e(e){const i={};return i.window=new t(null,function(){this.element=window.ui?.window}),i.arena=new t(null,function(){if(this.element=window.ui?.arena,!window.ui?.arena)return;if(this.cardScale=e.getCardBestScale?.(),null!=this.cardWidth)return;for(const t of window.ui.arena.childNodes)if(t.classList?.contains("card"))return this.cardWidth=t.offsetWidth,void(this.cardHeight=t.offsetHeight);const card=e.element?.create?.("card")||document.createElement("div");card.className||(card.className="card"),card.style.opacity="0",window.ui.arena.appendChild(card),this.cardWidth=card.offsetWidth,this.cardHeight=card.offsetHeight,card.remove()}),i.hand=new t(null,function(){if(this.element=window.ui?.me,!window.ui?.handcards1)return;if(this.cardScale=e.getCardBestScale?.(),null!=this.cardWidth)return;for(const t of window.ui.handcards1.childNodes)if(t.classList?.contains("card"))return this.cardWidth=t.offsetWidth,void(this.cardHeight=t.offsetHeight);const card=e.element?.create?.("card")||document.createElement("div");card.className||(card.className="card"),card.style.opacity="0",window.ui.handcards1.appendChild(card),this.cardWidth=card.offsetWidth,this.cardHeight=card.offsetHeight,card.remove()}),i}export{t as BoundsCache,e as createBoundsCaches};
