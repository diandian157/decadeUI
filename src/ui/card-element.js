import{ui,lib,game}from"noname";import{element as e}from"../utils/element.js";function n(n,t,a){const card=ui.create.div(".card");card.node={image:ui.create.div(".image",card),info:ui.create.div(".info",card),suitnum:e.create("suit-num",card),name:ui.create.div(".name",card),name2:ui.create.div(".name2",card),background:ui.create.div(".background",card),intro:ui.create.div(".intro",card),range:ui.create.div(".range",card),gaintag:e.create("gaintag info",card),judgeMark:e.create("judge-mark",card),cardMask:e.create("card-mask",card)};const i={$name:e.create("top-name",card),$vertname:card.node.name,$equip:card.node.name2,$suitnum:card.node.suitnum,$range:card.node.range,$gaintag:card.node.gaintag};for(const e in i)card[e]=i[e];return Object.setPrototypeOf(card,lib.element.Card.prototype),card.node.intro.innerText=lib.config.intro,a||lib.setIntro(card),card.storage={},card.vanishtag=[],card.gaintag=[],card._uncheck=[],"noclick"!==t&&(card.addEventListener(lib.config.touchscreen?"touchend":"click",ui.click.card),lib.config.touchscreen?(card.addEventListener("touchstart",ui.click.cardtouchstart),card.addEventListener("touchmove",ui.click.cardtouchmove)):(card.addEventListener("mouseenter",ui.click.cardmouseenter),card.addEventListener("mouseleave",ui.click.cardmouseleave)),lib.cardSelectObserver&&lib.cardSelectObserver.observe(card,{attributes:!0})),card.$suitnum.$num=e.create(null,card.$suitnum,"span"),card.$suitnum.$num.style.fontFamily='"STHeiti","SimHei","Microsoft JhengHei","Microsoft YaHei","WenQuanYi Micro Hei",Helvetica,Arial,sans-serif',card.$suitnum.$br=e.create(null,card.$suitnum,"br"),card.$suitnum.$suit=e.create("suit",card.$suitnum,"span"),card.$suitnum.$suit.style.fontFamily='"STHeiti","SimHei","Microsoft JhengHei","Microsoft YaHei","WenQuanYi Micro Hei",Helvetica,Arial,sans-serif',card.$equip.$suitnum=e.create(null,card.$equip,"span"),card.$equip.$name=e.create(null,card.$equip,"span"),card.node.judgeMark.node={back:e.create("back",card.node.judgeMark),mark:e.create("mark",card.node.judgeMark),judge:e.create("judge",card.node.judgeMark)},n&&n.appendChild(card),card}function t(e){return function(){const result=e.apply(this,arguments);return game.updateRoundNumber(),result}}export{n as createCardElement,t as createCardsWrapper};
