import{lib,_status,ui,get,game}from"noname";const e=()=>(100*Math.random()).toFixed(2),n=(e,n)=>get.rand(e,n);function t(e,n){const t=n||"extension/十周年UI/ui/assets/character/shousha/num/",o=e.toString();let a="";for(const r of o){a+=`<img src="${"."===r?`${lib.assetURL}${t}point.png`:`${lib.assetURL}${t}${r}.png`}" alt="${r}" style="--w:25px;--h:calc(var(--w)*52/38);width:var(--w);height:var(--h);margin-right:-9px;">`}return a+=`<img src="${lib.assetURL}${t}personui_percentage.png" alt="%" style="--w:27px;--h:calc(var(--w)*51/41);width:var(--w);height:var(--h);margin-left:1px;">`,a}function o(e,n){const t={legend:5,epic:4,rare:3,junk:2}[n]||3;for(let o=0;o<t;o++)ui.create.div(".item",e);for(let o=0;o<5-t;o++)ui.create.div(".item.huixing",e)}function a(e,n){const t={shizhounian:".left3",shousha:".left2"}[lib.config["extension_十周年UI_outcropSkin"]]||".left",o=ui.create.div(t,e);return o.setBackground(n,"character"),o}function r(){const e=lib.config.gameRecord?.[lib.config.mode];if(e&&"guozhan"!==lib.config.mode&&!_status.connectMode){const n=e.str.match(/(\d+)胜/g)?.map(e=>parseInt(e))||[0],t=e.str.match(/(\d+)负/g)?.map(e=>parseInt(e))||[0],o=n.reduce((e,n)=>e+n,0),a=o+t.reduce((e,n)=>e+n,0);return a>0?o/a*100:0}return 100*Math.random()}function i(e,n){e&&lib.character[e]&&ui.create.button(e,"character",n.firstChild,!0)}function s(player){const e=n(1,11);return{winRate:get.SL?100*get.SL(player)+"%":n(50,95)+"%",guanjieLevel:e,lucky:n(1,1e4),popularity:n(1,1e4),escapeRate:n(0,10),rankLevel:n(1,6),level:n(100,200),gailevel:n(20,80),vipLevel:Math.min(e+1,10),mvpCount:n(20,60)}}function c(e,n){const t=n||"extension/十周年UI/ui/assets/character/shousha/character/";return e&&"unknown"!==e?(["wei","shu","wu","qun","ye","jin","devil","daqin","western","shen","key","Han","qin"].includes(e)||(e="default"),`${t}name2_${e}.png`):`${t}name2_unknown.png`}const u=e=>game.playAudio(e);function h(e){e.style.transition="opacity 0.5s";const n=lib.config.touchscreen?"touchstart":"mousedown",t=lib.config.touchscreen?"touchend":"mouseup";e.addEventListener(n,()=>{e.style.transform="scale(0.95)"}),e.addEventListener(t,()=>{e.style.transform=""}),e.onmouseout=()=>{e.style.transform=""}}function l(e,n,t,o=1e3){e?.show&&(e.style[n]=t,setTimeout(()=>{e.hide(),e.show=!1},o))}function p(e){e&&(e.name&&(window.app.pluginsMap[e.name]=e),!e.precontent||e.filter&&!e.filter()||e.precontent(),window.app.plugins.push(e))}export{h as addClickEffect,r as calculateWinRate,i as createCharButton,a as createLeftPane,o as createStars,s as generateRandomData,c as getGroupBackgroundImage,e as getRandomPercentage,l as hideDialog,t as numberToImages,u as playAudio,n as randomInt,p as registerPlugin};
